function renderer(e,t){var r=[],n=e.getAttribute("autofill"),n=(n&&(r=n.split(",")),t.title&&0<t.title.length&&r.includes("title")&&(e.querySelector(".title").innerHTML=t.title,e.title=t.title),t.icon&&0<t.icon.length&&r.includes("icon")&&(e.querySelector(".img").style='background-image: url("'+t.icon+'");',e.querySelector(".img").setAttribute("data-bg",t.icon)),e.querySelector(".desc"));n&&t.desc&&0<t.desc.length&&r.includes("desc")&&(n.innerHTML=t.desc)}function setCardLink(e){(e="forEach"in(e||{})?e:document.querySelectorAll("a[cardlink]")).forEach(t=>{var e;1===t.nodeType&&(t.removeAttribute("cardlink"),e=t.href,fetch("https://api.vlts.cc/site_info/v1?url="+e).then(function(e){if(e.ok)return e.json();throw new Error("Network response was not ok.")}).then(function(e){renderer(t,e)}).catch(function(e){console.log(e)}))})}async function getWebsiteMetadata(e){try{var t=await(await fetch(e)).text(),r=(new DOMParser).parseFromString(t,"text/html"),n=r.title,i=r.querySelector('link[rel~="icon"]'),o=i?i.href:null,c=r.querySelector('meta[name~="keywords"]'),l=c?c.content:null,a=r.querySelector('meta[name~="description"]');return{title:n,keywords:l,desc:a?a.content:null,icon:o}}catch(e){return console.error("Error fetching website metadata:",e),{}}}function setCardLinkWithNoApi(e){(e="forEach"in(e||{})?e:document.querySelectorAll("a[cardlink]")).forEach(t=>{1===t.nodeType&&(t.removeAttribute("cardlink"),getWebsiteMetadata(t.href).then(e=>{console.log(e),renderer(t,e)}))})}